  <div class="main-content main-content-bg">
<body>
  <h1 class="bit-text arcade-header">Arcades</h1>
  <div class="add-arcade"><%= link_to "Add New Arcade", new_arcade_path %>
  </div>
  <br>
  <div class="column column-block">

<div id="map" style="height:585px;"></div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBo78A7iQ0vWbvy957lQOcOV7z4GaYtyi8&libraries=places"></script>
    </div>
  <br>
  <div class="row">
      <div class="large-12-centered small-3-centered  columns">
        <%= react_component 'Arcades', {arcades:  @arcades }, class: "smaller-text arcade-header", style: "font-size: 20px;"%>
      </div>
    </div>
<div class="row">
    <div class="small-6 small-offset-3 columns">
<br>
<!-- <h1 class="bit-text arcade-header">Arcades</h1>
<div class="add-arcade"><%= link_to "Add New Arcade", new_arcade_path %></div>
<br>
<% @states.each do |state| %>
<h2 class="bit-text"><%=state%></h2>
  <% @arcades.each do |arcade| %>
    <%if arcade.state == state%>
      <li class="smaller-text shadow">
        <%= link_to arcade.name.split('-').map(&:titleize).join('-'), arcade_path(arcade.id), class: "button expanded", style: "border-radius: 2px;"%>
      </li>
    <%end%>
    <%end%>
<%end%> -->
</div>
</div>
</body>
</div>
<script>
var geocoder;
var map;
var styles = [
{
    "stylers": [
        {
            "hue": "#007fff"
        },
        {
            "saturation": 89
        }
    ]
},
{
    "featureType": "water",
    "stylers": [
        {
            "color": "#dbfff4"
        }
    ]
},
{
    "featureType": "administrative.country",
    "elementType": "labels",
    "stylers": [
        {
            "visibility": "off"
        }
    ]
}
];
infowindow = new google.maps.InfoWindow();

function initialize() {
  geocoder = new google.maps.Geocoder();
  var latlng = new google.maps.LatLng(0, 150.644);
  var mapOptions = {
    zoom: 4,
    center: latlng,
    styles: styles
  }
  map = new google.maps.Map(document.getElementById('map'), mapOptions);
  map.setCenter(new google.maps.LatLng(37.09024, -95.712891));
  var addresses =   <%= @addresses.inspect.html_safe %>;
      for (i = 0; i < addresses.length; i++) {

          $.getJSON('http://maps.googleapis.com/maps/api/geocode/json?address='+addresses[i]+'&sensor=false', null, function (data) {
              var p = data.results[0].geometry.location
              var latlng = new google.maps.LatLng(p.lat, p.lng);
              var image = 'http://pixeljoint.com/files/icons/mariosmushroom.png';
              var address = addresses[i];
              marker = new google.maps.Marker({
                  position: latlng,
                  map: map,
                  title: address,
                  animation: google.maps.Animation.DROP,
                  icon: image
              });
              infowindow = new google.maps.InfoWindow();
              google.maps.event.addListener(marker, 'click', function() {
                     var content = ("tesss");

                     infowindow.setContent(content);
                     infowindow.open(map, this);
                   });
          });
      }
}


google.maps.event.addDomListener(window, 'load', initialize);
</script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBo78A7iQ0vWbvy957lQOcOV7z4GaYtyi8&libraries=places&callback=initMap">
</script>
